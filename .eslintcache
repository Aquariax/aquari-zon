[{"C:\\Users\\robert\\Documents\\aquari-zon\\src\\App.js":"1","C:\\Users\\robert\\Documents\\aquari-zon\\src\\reportWebVitals.js":"2","C:\\Users\\robert\\Documents\\aquari-zon\\src\\index.js":"3","C:\\Users\\robert\\Documents\\aquari-zon\\src\\firebase.js":"4","C:\\Users\\robert\\Documents\\aquari-zon\\src\\axios.js":"5","C:\\Users\\robert\\Documents\\aquari-zon\\src\\components\\layout\\Footer.js":"6","C:\\Users\\robert\\Documents\\aquari-zon\\src\\components\\layout\\Login.js":"7","C:\\Users\\robert\\Documents\\aquari-zon\\src\\components\\layout\\Home.js":"8","C:\\Users\\robert\\Documents\\aquari-zon\\src\\components\\layout\\Header.js":"9","C:\\Users\\robert\\Documents\\aquari-zon\\src\\components\\layout\\Payment.js":"10","C:\\Users\\robert\\Documents\\aquari-zon\\src\\components\\layout\\checkout\\Checkout.js":"11","C:\\Users\\robert\\Documents\\aquari-zon\\src\\components\\state\\StateProvider.js":"12","C:\\Users\\robert\\Documents\\aquari-zon\\src\\components\\layout\\Subtotal.js":"13","C:\\Users\\robert\\Documents\\aquari-zon\\src\\components\\layout\\Product.js":"14","C:\\Users\\robert\\Documents\\aquari-zon\\src\\components\\layout\\order\\Orders.js":"15"},{"size":1837,"mtime":1610852536651,"results":"16","hashOfConfig":"17"},{"size":362,"mtime":1606873353116,"results":"18","hashOfConfig":"17"},{"size":712,"mtime":1610843883786,"results":"19","hashOfConfig":"17"},{"size":579,"mtime":1610590592403,"results":"20","hashOfConfig":"17"},{"size":164,"mtime":1610839719167,"results":"21","hashOfConfig":"17"},{"size":1468,"mtime":1610842948478,"results":"22","hashOfConfig":"17"},{"size":1853,"mtime":1610843834210,"results":"23","hashOfConfig":"17"},{"size":2451,"mtime":1610843392486,"results":"24","hashOfConfig":"17"},{"size":1849,"mtime":1610843408404,"results":"25","hashOfConfig":"17"},{"size":3902,"mtime":1610847520833,"results":"26","hashOfConfig":"17"},{"size":954,"mtime":1610843690823,"results":"27","hashOfConfig":"17"},{"size":369,"mtime":1610842545531,"results":"28","hashOfConfig":"17"},{"size":956,"mtime":1610843771685,"results":"29","hashOfConfig":"17"},{"size":872,"mtime":1610843983998,"results":"30","hashOfConfig":"17"},{"size":882,"mtime":1610843029208,"results":"31","hashOfConfig":"17"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"5sqbwi",{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"45"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"52","messages":"53","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"54","usedDeprecatedRules":"38"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"59","messages":"60","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"61","messages":"62","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"63","messages":"64","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"C:\\Users\\robert\\Documents\\aquari-zon\\src\\App.js",["65","66"],"C:\\Users\\robert\\Documents\\aquari-zon\\src\\reportWebVitals.js",[],"C:\\Users\\robert\\Documents\\aquari-zon\\src\\index.js",[],["67","68"],"C:\\Users\\robert\\Documents\\aquari-zon\\src\\firebase.js",[],"C:\\Users\\robert\\Documents\\aquari-zon\\src\\axios.js",[],"C:\\Users\\robert\\Documents\\aquari-zon\\src\\components\\layout\\Footer.js",[],["69","70"],"C:\\Users\\robert\\Documents\\aquari-zon\\src\\components\\layout\\Login.js",[],"C:\\Users\\robert\\Documents\\aquari-zon\\src\\components\\layout\\Home.js",[],"C:\\Users\\robert\\Documents\\aquari-zon\\src\\components\\layout\\Header.js",[],"C:\\Users\\robert\\Documents\\aquari-zon\\src\\components\\layout\\Payment.js",["71"],"import React, { useState, useEffect } from 'react';\r\nimport { useStateValue } from '../state/StateProvider';\r\nimport CheckoutProduct from './checkout/CheckoutProduct';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { CardElement, useStripe, useElements } from '@stripe/react-stripe-js';\r\nimport CurrencyFormat from 'react-currency-format';\r\nimport { getBasketTotal } from '../state/reducer';\r\nimport { db } from '../../firebase';\r\nimport axios from '../../axios';\r\n\r\nfunction Payment() {\r\n\tconst [{ basket, user }, dispatch] = useStateValue();\r\n\tconst [error, setError] = useState(null);\r\n\tconst [disabled, setDisabled] = useState(true);\r\n\tconst [processing, setProcessing] = useState('');\r\n\tconst [succeeded, setSucceeded] = useState(false);\r\n\tconst [clientSecret, setClientSecret] = useState(true);\r\n\r\n\tconst stripe = useStripe();\r\n\tconst elements = useElements();\r\n\tconst history = useHistory();\r\n\r\n\tuseEffect(() => {\r\n\t\tconst getClientSecret = async () => {\r\n\t\t\tconst response = await axios({\r\n\t\t\t\tmethod: 'post',\r\n\t\t\t\turl: `/payments/create?total=${getBasketTotal(basket) * 100}`,\r\n\t\t\t});\r\n\t\t\tsetClientSecret(response.data.clientSecret);\r\n\t\t};\r\n\r\n\t\tgetClientSecret();\r\n\t}, [basket]);\r\n\r\n\tconsole.log('client secret is >>>', clientSecret);\r\n\r\n\tconst handleSubmit = async (e) => {\r\n\t\te.preventDefault();\r\n\t\tsetProcessing(true);\r\n\r\n\t\tconst payload = await stripe\r\n\t\t\t.confirmCardPayment(clientSecret, {\r\n\t\t\t\tpayment_method: {\r\n\t\t\t\t\tcard: elements.getElement(CardElement),\r\n\t\t\t\t},\r\n\t\t\t})\r\n\t\t\t.then(({ paymentIntent }) => {\r\n\t\t\t\tdb.collection('users')\r\n\t\t\t\t\t.doc(user?.uid)\r\n\t\t\t\t\t.collection('orders')\r\n\t\t\t\t\t.doc(paymentIntent.id)\r\n\t\t\t\t\t.set({\r\n\t\t\t\t\t\tbasket: basket,\r\n\t\t\t\t\t\tamount: paymentIntent.amount,\r\n\t\t\t\t\t\tcreated: paymentIntent.created,\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\tsetSucceeded(true);\r\n\t\t\t\tsetError(null);\r\n\t\t\t\tsetProcessing(false);\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: 'EMPTY_BASKET',\r\n\t\t\t\t});\r\n\t\t\t\thistory.replace('/orders');\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst handleChange = (e) => {\r\n\t\tsetDisabled(e.empty);\r\n\t\tsetError(e.error ? e.error.message : '');\r\n\t};\r\n\treturn (\r\n\t\t<div className='payment'>\r\n\t\t\t<div className='payment_container'>\r\n\t\t\t\t<h1>\r\n\t\t\t\t\tCheckout (<Link to='/checkout'>{basket?.length} items</Link>)\r\n\t\t\t\t</h1>\r\n\t\t\t\t<div className='payment_container_section'>\r\n\t\t\t\t\t<div className='payment_container_section_title'>\r\n\t\t\t\t\t\t<h3>Delivery Address</h3>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='payment_container_section_address'>\r\n\t\t\t\t\t\t<p>{user?.email}</p>\r\n\t\t\t\t\t\t<p>123 React Lane</p>\r\n\t\t\t\t\t\t<p>Los Angeles, CA</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='payment_container_section'>\r\n\t\t\t\t\t<div className='payment_container_section_title'>\r\n\t\t\t\t\t\t<h3>Review items and delivery</h3>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='payment_container_section__items'>\r\n\t\t\t\t\t\t{basket.map((item) => (\r\n\t\t\t\t\t\t\t<CheckoutProduct\r\n\t\t\t\t\t\t\t\tid={item.id}\r\n\t\t\t\t\t\t\t\ttitle={item.title}\r\n\t\t\t\t\t\t\t\timage={item.image}\r\n\t\t\t\t\t\t\t\tprice={item.price}\r\n\t\t\t\t\t\t\t\trating={item.rating}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='payment_container_section'>\r\n\t\t\t\t\t<div className='payment_container_section_title'>\r\n\t\t\t\t\t\t<h3>Payment Method</h3>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='payment_container_section_details'>\r\n\t\t\t\t\t\t<form action='' onSubmit={handleSubmit}>\r\n\t\t\t\t\t\t\t<CardElement onChange={handleChange} />\r\n\t\t\t\t\t\t\t<div className='price_container'>\r\n\t\t\t\t\t\t\t\t<CurrencyFormat\r\n\t\t\t\t\t\t\t\t\trenderText={(value) => <h3>Order Total: {value}</h3>}\r\n\t\t\t\t\t\t\t\t\tdecimalScale={2}\r\n\t\t\t\t\t\t\t\t\tvalue={getBasketTotal(basket)}\r\n\t\t\t\t\t\t\t\t\tdisplayType={'text'}\r\n\t\t\t\t\t\t\t\t\tthousandSeperator={true}\r\n\t\t\t\t\t\t\t\t\tprefix={'$'}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<button disabled={processing || disabled || succeeded}>\r\n\t\t\t\t\t\t\t\t\t<span>{processing ? <p>Processing</p> : 'Buy Now'}</span>\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{error && <div>{error}</div>}\r\n\t\t\t\t\t\t</form>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Payment;\r\n","C:\\Users\\robert\\Documents\\aquari-zon\\src\\components\\layout\\checkout\\Checkout.js",[],"C:\\Users\\robert\\Documents\\aquari-zon\\src\\components\\state\\StateProvider.js",[],"C:\\Users\\robert\\Documents\\aquari-zon\\src\\components\\layout\\Subtotal.js",["72"],"C:\\Users\\robert\\Documents\\aquari-zon\\src\\components\\layout\\Product.js",["73"],"C:\\Users\\robert\\Documents\\aquari-zon\\src\\components\\layout\\order\\Orders.js",["74","75"],{"ruleId":"76","severity":1,"message":"77","line":22,"column":9,"nodeType":"78","messageId":"79","endLine":22,"endColumn":11},{"ruleId":"80","severity":1,"message":"81","line":38,"column":5,"nodeType":"82","endLine":38,"endColumn":7,"suggestions":"83"},{"ruleId":"84","replacedBy":"85"},{"ruleId":"86","replacedBy":"87"},{"ruleId":"84","replacedBy":"88"},{"ruleId":"86","replacedBy":"89"},{"ruleId":"90","severity":1,"message":"91","line":41,"column":9,"nodeType":"92","messageId":"93","endLine":41,"endColumn":16},{"ruleId":"90","severity":1,"message":"94","line":7,"column":21,"nodeType":"92","messageId":"93","endLine":7,"endColumn":29},{"ruleId":"90","severity":1,"message":"95","line":4,"column":11,"nodeType":"92","messageId":"93","endLine":4,"endColumn":17},{"ruleId":"90","severity":1,"message":"95","line":7,"column":11,"nodeType":"92","messageId":"93","endLine":7,"endColumn":17},{"ruleId":"90","severity":1,"message":"94","line":7,"column":27,"nodeType":"92","messageId":"93","endLine":7,"endColumn":35},"no-empty-pattern","Unexpected empty object pattern.","ObjectPattern","unexpected","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'dispatch'. Either include it or remove the dependency array.","ArrayExpression",["96"],"no-native-reassign",["97"],"no-negated-in-lhs",["98"],["97"],["98"],"no-unused-vars","'payload' is assigned a value but never used.","Identifier","unusedVar","'dispatch' is assigned a value but never used.","'basket' is assigned a value but never used.",{"desc":"99","fix":"100"},"no-global-assign","no-unsafe-negation","Update the dependencies array to be: [dispatch]",{"range":"101","text":"102"},[1263,1265],"[dispatch]"]